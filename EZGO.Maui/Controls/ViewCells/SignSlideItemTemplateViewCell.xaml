<?xml version="1.0" encoding="utf-8" ?>
<Grid 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:controls="clr-namespace:EZGO.Maui.Controls"
    xmlns:images="clr-namespace:EZGO.Maui.Controls.Images"
    xmlns:classes="clr-namespace:EZGO.Maui.Classes"
    x:Name="SignStage"
    BackgroundColor="{StaticResource GreenColor}"
    x:Class="EZGO.Maui.Controls.ViewCells.SignSlideItemTemplateViewCell">
    <Grid.GestureRecognizers>
        <TapGestureRecognizer Command="{Binding SaveStageCommand, Source={x:Reference SignStage}}" Tapped="SignItemTemplate_Clicked" CommandParameter="{Binding .}"/>
    </Grid.GestureRecognizers>
    <Grid x:Name="NotYetSigned">
        <controls:CustomImage
            IsLocalFile="True" Aspect="AspectFill" ImageUrl="sign.jpeg" IsOpaque="True" />
        <BoxView
            x:Name="BackgroundBox"
            BackgroundColor="{StaticResource GreenColor}"
            Opacity="0.5">
            <BoxView.Triggers>
                <DataTrigger
                    TargetType="BoxView"
                    Binding="{Binding IsSyncing, Source={x:Reference SignStage}}"
                    Value="True">
                    <Setter Property="BackgroundColor" Value="{StaticResource LightGreyColor}" />
                </DataTrigger>
            </BoxView.Triggers>
        </BoxView>
        <Label
            x:Name="SignStageLabel" FontAttributes="Bold" FontSize="30" HorizontalTextAlignment="Center"
            Text="{classes:Translate SIGN_STAGE}"
            TextColor="White" VerticalOptions="Center">
            <Label.Triggers>
                <DataTrigger
                    TargetType="Label"
                    Binding="{Binding IsSyncing, Source={x:Reference SignStage}}"
                    Value="True">
                    <Setter Property="Text" Value="{classes:Translate SYNC_STATES_VIEW_SYNSING_MESSAGE}" />
                    <Setter Property="TextColor" Value="{StaticResource StageGreyColor}" />
                </DataTrigger>
            </Label.Triggers>
        </Label>
    </Grid>
    <Grid x:Name="Signed">
        <Grid.RowDefinitions>
            <RowDefinition Height="0.75*" />
            <RowDefinition Height="0.25*" />
        </Grid.RowDefinitions>
        <controls:CustomImage
            Grid.Row="0" Grid.RowSpan="2" IsLocalFile="True" Aspect="AspectFill" ImageUrl="sign.jpeg" IsOpaque="True" />
        <BoxView
            Grid.Row="0" Grid.RowSpan="2"
            BackgroundColor="{StaticResource DarkBlueColor}"
            Opacity="0.5" />
        <Label
            x:Name="CheckIcon"
            Grid.Column="0"
            FontFamily="FAR"
            FontSize="155"
            HorizontalOptions="Center"
            Text="check"
            TextColor="{StaticResource GreenColor}"
            VerticalOptions="Center" />           
        <Grid Grid.Row="1" BackgroundColor="{StaticResource WhiteColor}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.3*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <!-- Participant picture -->
            <StackLayout VerticalOptions="CenterAndExpand" Grid.Column="0" Orientation="Vertical" Spacing="0">
                <images:RoundUserImage
                    x:Name="UserImage" />
                <images:RoundUserImage
                    x:Name="UserImage2" IsVisible="False" Margin="0,-15,0,0" />
            </StackLayout>
            <StackLayout Grid.Column="1" VerticalOptions="CenterAndExpand">
                <Label
                    x:Name="StageLabel"
                    FontFamily="{StaticResource RobotoBold}"
                    TextColor="{StaticResource GreenColor}" />
                <Label x:Name="DateLabel" />
                <Label x:Name="SignedByLabel" FontFamily="{StaticResource RobotoBold}" />
            </StackLayout>
        </Grid>
    </Grid>
</Grid>
