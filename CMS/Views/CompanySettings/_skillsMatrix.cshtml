@model WebApp.ViewModels.CompanySettingsViewModel
@{
    // Helper to get legend item values with defaults
    var m1 = Model.LegendConfiguration?.GetMandatory(1);
    var m2 = Model.LegendConfiguration?.GetMandatory(2);
    var m3 = Model.LegendConfiguration?.GetMandatory(3);
    var o1 = Model.LegendConfiguration?.GetOperational(1);
    var o2 = Model.LegendConfiguration?.GetOperational(2);
    var o3 = Model.LegendConfiguration?.GetOperational(3);
    var o4 = Model.LegendConfiguration?.GetOperational(4);
    var o5 = Model.LegendConfiguration?.GetOperational(5);
}

<!-- Right Content Area -->
<div class="col-9 p-4" style="border-radius: 8px; max-width:100%; max-height: calc(100vh - 225px); overflow-y: auto;">
    <!-- Rounding Options Section -->
    <div class="btn-group btn-group-toggle" data-toggle="buttons" style="display: flex; justify-content: space-between;">
        <!-- Use Round Down -->
        <label id="RoundDown_label" class="btn work-instructions-option @(Model.ApplicationSettings?.Features?.EnableMatrixScoreStandard == false ? "active" : "")">
            <input type="radio" name="RoundDown" id="RoundDown" value="RoundDown" @(Model.ApplicationSettings?.Features?.EnableMatrixScoreStandard == false ? "checked" : "") />
            <div class="option-content">
                <i id="RoundDown_icon" class="fa-solid fa-arrow-down-from-line"></i>
                <div class="option-text">
                    <strong>@(Model?.CmsLanguage.GetValue(LanguageKeys.Setting.EnableSkillMatrixTitle, "Round down") ?? "Round down") </strong><br>
                    <span>@(Model?.CmsLanguage.GetValue(LanguageKeys.Setting.EnableSkillMatrixDescription, "The score from an assessment will always be rounded down.") ?? "The score from an assessment will always be rounded down.")</span>
                </div>
            </div>
        </label>

        <!-- Use Standard Round  -->
        <label id="do_not_RoundDown_label" class="btn work-instructions-option @(Model.ApplicationSettings?.Features?.EnableMatrixScoreStandard == true ? "active" : "")">
            <input type="radio" name="RoundDown" id="donotRoundDown" value="donotRoundDown" @(Model.ApplicationSettings?.Features?.EnableMatrixScoreStandard == true ? "checked" : "") />
            <div class="option-content">
                <i id="RoundDown_icon" class="fa-solid fa-arrows-from-line"></i>
                <div class="option-text">
                    <strong>@(Model?.CmsLanguage.GetValue(LanguageKeys.Setting.DisableSkillMatrixTitle, "Standard rounding") ?? "Standard rounding") </strong><br>
                    <span>@(Model?.CmsLanguage.GetValue(LanguageKeys.Setting.DisableSkillMatrixDescription, "Scores below .5 round down, scores of .5 or above round up.") ?? "Scores below .5 round down, scores of .5 or above round up.")</span>
                </div>
            </div>
        </label>
    </div>

    <!-- Legend Customization Section -->
    <div class="mt-4 p-4" style="background-color: #f8f9fa; border-radius: 8px;">
        <h5 class="mb-3">
            <i class="fa fa-palette mr-2"></i>
            @(Model?.CmsLanguage.GetValue(LanguageKeys.Setting.CustomizeLegendTitle, "Customize skill color codes and skill level text") ?? "Customize skill color codes and skill level text")
        </h5>

        <!-- Mandatory Skills Section -->
        <div class="mb-4">
            <h6 class="text-muted mb-3">@(Model?.CmsLanguage.GetValue(LanguageKeys.Setting.MandatorySkillsTitle, "Mandatory skills") ?? "Mandatory skills")</h6>

            <!-- Masters the skill -->
            <div class="legend-item-row d-flex align-items-center mb-2" data-skill-type="mandatory" data-skill-level-id="1">
                <div class="legend-icon-preview mr-3" style="position: relative;">
                    <button class="btn circlebtn legend-preview-btn" type="button" data-icon-class="thumbsup"
                            data-icon-color="@(m1?.IconColor ?? "#52AC52")" data-bg-color="@(m1?.BackgroundColor ?? "#E5F3E5")"
                            style="width: 40px; height: 40px; cursor: pointer; background-color: @(m1?.BackgroundColor ?? "#E5F3E5"); border-color: @(m1?.IconColor ?? "#52AC52"); color: @(m1?.IconColor ?? "#52AC52");">
                        <i class="fa fa-thumbs-up"></i>
                    </button>
                    <span class="legend-edit-indicator" style="position: absolute; bottom: -2px; right: -2px; background: #93C54B; border-radius: 50%; width: 16px; height: 16px; display: flex; align-items: center; justify-content: center;">
                        <i class="fa fa-pencil" style="font-size: 8px; color: white;"></i>
                    </span>
                </div>
                <input type="text" class="form-control legend-label-input" value="@(m1?.Label ?? Model?.CmsLanguage.GetValue(LanguageKeys.Skills.ValueMastersTheSkill, "Masters the skill") ?? "Masters the skill")" style="flex: 1;" />
            </div>

            <!-- Almost expired -->
            <div class="legend-item-row d-flex align-items-center mb-2" data-skill-type="mandatory" data-skill-level-id="2">
                <div class="legend-icon-preview mr-3" style="position: relative;">
                    <button class="btn circlebtn legend-preview-btn" type="button" data-icon-class="warning"
                            data-icon-color="@(m2?.IconColor ?? "#FF8800")" data-bg-color="@(m2?.BackgroundColor ?? "#FFF3E0")"
                            style="width: 40px; height: 40px; cursor: pointer; background-color: @(m2?.BackgroundColor ?? "#FFF3E0"); border-color: @(m2?.IconColor ?? "#FF8800"); color: @(m2?.IconColor ?? "#FF8800");">
                        <i class="fa fa-exclamation-triangle"></i>
                    </button>
                    <span class="legend-edit-indicator" style="position: absolute; bottom: -2px; right: -2px; background: #93C54B; border-radius: 50%; width: 16px; height: 16px; display: flex; align-items: center; justify-content: center;">
                        <i class="fa fa-pencil" style="font-size: 8px; color: white;"></i>
                    </span>
                </div>
                <input type="text" class="form-control legend-label-input" value="@(m2?.Label ?? Model?.CmsLanguage.GetValue(LanguageKeys.Skills.ValueAlmostExpired, "Almost expired") ?? "Almost expired")" style="flex: 1;" />
            </div>

            <!-- Expired -->
            <div class="legend-item-row d-flex align-items-center mb-2" data-skill-type="mandatory" data-skill-level-id="3">
                <div class="legend-icon-preview mr-3" style="position: relative;">
                    <button class="btn circlebtn legend-preview-btn" type="button" data-icon-class="warning"
                            data-icon-color="@(m3?.IconColor ?? "#D9534F")" data-bg-color="@(m3?.BackgroundColor ?? "#FDECEA")"
                            style="width: 40px; height: 40px; cursor: pointer; background-color: @(m3?.BackgroundColor ?? "#FDECEA"); border-color: @(m3?.IconColor ?? "#D9534F"); color: @(m3?.IconColor ?? "#D9534F");">
                        <i class="fa fa-exclamation-triangle"></i>
                    </button>
                    <span class="legend-edit-indicator" style="position: absolute; bottom: -2px; right: -2px; background: #93C54B; border-radius: 50%; width: 16px; height: 16px; display: flex; align-items: center; justify-content: center;">
                        <i class="fa fa-pencil" style="font-size: 8px; color: white;"></i>
                    </span>
                </div>
                <input type="text" class="form-control legend-label-input" value="@(m3?.Label ?? Model?.CmsLanguage.GetValue(LanguageKeys.Skills.ValueExpired, "Expired") ?? "Expired")" style="flex: 1;" />
            </div>
        </div>

        <!-- Operational Skills Section -->
        <div class="mb-3">
            <h6 class="text-muted mb-3">@(Model?.CmsLanguage.GetValue(LanguageKeys.Setting.OperationalSkillsTitle, "Operational skills") ?? "Operational skills")</h6>

            <!-- Score 1 -->
            <div class="legend-item-row d-flex align-items-center mb-2" data-skill-type="operational" data-skill-level-id="1" data-score-value="1">
                <div class="legend-icon-preview mr-3" style="position: relative;">
                    <button class="btn circlebtn legend-preview-btn legend-score-btn" type="button"
                            data-icon-color="@(o1?.IconColor ?? "#D9534F")" data-bg-color="@(o1?.BackgroundColor ?? "#FDECEA")"
                            style="width: 40px; height: 40px; font-size: 18px; cursor: pointer; background-color: @(o1?.BackgroundColor ?? "#FDECEA"); border-color: @(o1?.IconColor ?? "#D9534F"); color: @(o1?.IconColor ?? "#D9534F");">1</button>
                    <span class="legend-edit-indicator" style="position: absolute; bottom: -2px; right: -2px; background: #93C54B; border-radius: 50%; width: 16px; height: 16px; display: flex; align-items: center; justify-content: center;">
                        <i class="fa fa-pencil" style="font-size: 8px; color: white;"></i>
                    </span>
                </div>
                <input type="text" class="form-control legend-label-input" value="@(o1?.Label ?? Model?.CmsLanguage.GetValue(LanguageKeys.Skills.ValueNoKnowTheTheory, "Doesn't know the theory") ?? "Doesn't know the theory")" style="flex: 1;" />
            </div>

            <!-- Score 2 -->
            <div class="legend-item-row d-flex align-items-center mb-2" data-skill-type="operational" data-skill-level-id="2" data-score-value="2">
                <div class="legend-icon-preview mr-3" style="position: relative;">
                    <button class="btn circlebtn legend-preview-btn legend-score-btn" type="button"
                            data-icon-color="@(o2?.IconColor ?? "#E95420")" data-bg-color="@(o2?.BackgroundColor ?? "#FEEEE8")"
                            style="width: 40px; height: 40px; font-size: 18px; cursor: pointer; background-color: @(o2?.BackgroundColor ?? "#FEEEE8"); border-color: @(o2?.IconColor ?? "#E95420"); color: @(o2?.IconColor ?? "#E95420");">2</button>
                    <span class="legend-edit-indicator" style="position: absolute; bottom: -2px; right: -2px; background: #93C54B; border-radius: 50%; width: 16px; height: 16px; display: flex; align-items: center; justify-content: center;">
                        <i class="fa fa-pencil" style="font-size: 8px; color: white;"></i>
                    </span>
                </div>
                <input type="text" class="form-control legend-label-input" value="@(o2?.Label ?? Model?.CmsLanguage.GetValue(LanguageKeys.Skills.ValueKnowTheTheory, "Knows the theory") ?? "Knows the theory")" style="flex: 1;" />
            </div>

            <!-- Score 3 -->
            <div class="legend-item-row d-flex align-items-center mb-2" data-skill-type="operational" data-skill-level-id="3" data-score-value="3">
                <div class="legend-icon-preview mr-3" style="position: relative;">
                    <button class="btn circlebtn legend-preview-btn legend-score-btn" type="button"
                            data-icon-color="@(o3?.IconColor ?? "#FF8800")" data-bg-color="@(o3?.BackgroundColor ?? "#FFF3E0")"
                            style="width: 40px; height: 40px; font-size: 18px; cursor: pointer; background-color: @(o3?.BackgroundColor ?? "#FFF3E0"); border-color: @(o3?.IconColor ?? "#FF8800"); color: @(o3?.IconColor ?? "#FF8800");">3</button>
                    <span class="legend-edit-indicator" style="position: absolute; bottom: -2px; right: -2px; background: #93C54B; border-radius: 50%; width: 16px; height: 16px; display: flex; align-items: center; justify-content: center;">
                        <i class="fa fa-pencil" style="font-size: 8px; color: white;"></i>
                    </span>
                </div>
                <input type="text" class="form-control legend-label-input" value="@(o3?.Label ?? Model?.CmsLanguage.GetValue(LanguageKeys.Skills.ValueStandardSituations, "Is able to apply this in the standard situations") ?? "Is able to apply this in the standard situations")" style="flex: 1;" />
            </div>

            <!-- Score 4 -->
            <div class="legend-item-row d-flex align-items-center mb-2" data-skill-type="operational" data-skill-level-id="4" data-score-value="4">
                <div class="legend-icon-preview mr-3" style="position: relative;">
                    <button class="btn circlebtn legend-preview-btn legend-score-btn" type="button"
                            data-icon-color="@(o4?.IconColor ?? "#A5C43C")" data-bg-color="@(o4?.BackgroundColor ?? "#F5F9E6")"
                            style="width: 40px; height: 40px; font-size: 18px; cursor: pointer; background-color: @(o4?.BackgroundColor ?? "#F5F9E6"); border-color: @(o4?.IconColor ?? "#A5C43C"); color: @(o4?.IconColor ?? "#A5C43C");">4</button>
                    <span class="legend-edit-indicator" style="position: absolute; bottom: -2px; right: -2px; background: #93C54B; border-radius: 50%; width: 16px; height: 16px; display: flex; align-items: center; justify-content: center;">
                        <i class="fa fa-pencil" style="font-size: 8px; color: white;"></i>
                    </span>
                </div>
                <input type="text" class="form-control legend-label-input" value="@(o4?.Label ?? Model?.CmsLanguage.GetValue(LanguageKeys.Skills.ValueNonStandardConditions, "Is able to apply this in the non-standard conditions") ?? "Is able to apply this in the non-standard conditions")" style="flex: 1;" />
            </div>

            <!-- Score 5 -->
            <div class="legend-item-row d-flex align-items-center mb-2" data-skill-type="operational" data-skill-level-id="5" data-score-value="5">
                <div class="legend-icon-preview mr-3" style="position: relative;">
                    <button class="btn circlebtn legend-preview-btn legend-score-btn" type="button"
                            data-icon-color="@(o5?.IconColor ?? "#52AC52")" data-bg-color="@(o5?.BackgroundColor ?? "#E5F3E5")"
                            style="width: 40px; height: 40px; font-size: 18px; cursor: pointer; background-color: @(o5?.BackgroundColor ?? "#E5F3E5"); border-color: @(o5?.IconColor ?? "#52AC52"); color: @(o5?.IconColor ?? "#52AC52");">5</button>
                    <span class="legend-edit-indicator" style="position: absolute; bottom: -2px; right: -2px; background: #93C54B; border-radius: 50%; width: 16px; height: 16px; display: flex; align-items: center; justify-content: center;">
                        <i class="fa fa-pencil" style="font-size: 8px; color: white;"></i>
                    </span>
                </div>
                <input type="text" class="form-control legend-label-input" value="@(o5?.Label ?? Model?.CmsLanguage.GetValue(LanguageKeys.Skills.ValueCanEducateOthers, "Can educate others") ?? "Can educate others")" style="flex: 1;" />
            </div>
        </div>
    </div>
</div>

<!-- Color Picker Modal -->
<div class="modal fade" id="LegendColorPickerModal" tabindex="-1" role="dialog" aria-labelledby="LegendColorPickerModalTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="LegendColorPickerModalTitle">
                    @(Model?.CmsLanguage.GetValue(LanguageKeys.Setting.CustomizeLegendItemTitle, "Customize skill level text and color codes for") ?? "Customize skill level text and color codes for")
                    <strong id="legendItemTitle"></strong>
                </h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <!-- Level Text Input -->
                <div class="form-group mb-4">
                    <label for="legendLevelText">@(Model?.CmsLanguage.GetValue(LanguageKeys.Setting.LevelTextLabel, "Level text") ?? "Level text")</label>
                    <input type="text" class="form-control" id="legendLevelText" placeholder="Enter skill level text" />
                </div>

                <div class="row">
                    <!-- Color of the number/icon -->
                    <div class="col-md-6">
                        <div class="form-group mb-3">
                            <label for="iconColorPicker">@(Model?.CmsLanguage.GetValue(LanguageKeys.Setting.ColorOfNumberLabel, "Color of the number/icon") ?? "Color of the number/icon")</label>
                            <div class="d-flex align-items-center">
                                <input id="iconColorPicker" type="color" class="form-control form-control-color" value="#52AC52" style="width: 60px; height: 40px; padding: 2px; cursor: pointer;" />
                                <input type="text" class="form-control form-control-sm ms-2" id="iconColorHex" value="#52AC52" style="width: 100px;" />
                            </div>
                        </div>
                    </div>

                    <!-- Color of the background -->
                    <div class="col-md-6">
                        <div class="form-group mb-3">
                            <label for="bgColorPicker">@(Model?.CmsLanguage.GetValue(LanguageKeys.Setting.ColorOfBackgroundLabel, "Color of the background") ?? "Color of the background")</label>
                            <div class="d-flex align-items-center">
                                <input id="bgColorPicker" type="color" class="form-control form-control-color" value="#E5F3E5" style="width: 60px; height: 40px; padding: 2px; cursor: pointer;" />
                                <input type="text" class="form-control form-control-sm ms-2" id="bgColorHex" value="#E5F3E5" style="width: 100px;" />
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Live Preview -->
                <div class="mt-4 text-center">
                    <div class="legend-preview-circle" id="colorPreviewCircle" style="width: 60px; height: 60px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 24px; font-weight: bold; border: 2px solid; margin: 0 auto;">
                        <span id="previewContent">4</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">
                    @(Model?.CmsLanguage.GetValue(LanguageKeys.Shared.BtnClose, "Close") ?? "Close")
                </button>
                <button type="button" class="btn btn-ezgo btn-sm" id="btnConfirmLegendColor">
                    @(Model?.CmsLanguage.GetValue(LanguageKeys.Shared.BtnConfirm, "Confirm") ?? "Confirm")
                </button>
            </div>
        </div>
    </div>
</div>

<script>
    jQuery(function($) {
        'use strict';
        var debounceTimer;
        var currentEditingItem = null;

        // Rounding options toggle
        $('.btn-group-toggle').off('click', 'label').on('click', 'label', function (e) {
            e.preventDefault();
            e.stopPropagation();
            clearTimeout(debounceTimer);
            debounceTimer = setTimeout(() => {
                $('.btn-group-toggle label').removeClass('active');
                $(this).addClass('active');
                var settingValue = $(this).attr('id') === 'do_not_RoundDown_label';
                $('#RoundDown').prop('checked', !settingValue);
                $('#donotRoundDown').prop('checked', settingValue);
                $.ajax({
                    url: '/CompanySettings/UpdateSkillMatrixChangeScoreStyle',
                    type: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(settingValue),
                    success: function () {
                        toastr.success('@(Model?.CmsLanguage.GetValue(LanguageKeys.CompanySetting.NotifyEndUserSkillMatrixChangeDoneCorrectly, "Skill matrix setting updated correctly") ?? "Skill matrix setting updated correctly")');
                    }
                });
            }, 300);
        });

        // Color picker modal handler
        $('.legend-preview-btn').on('click', function () {
            var row = $(this).closest('.legend-item-row');
            var btn = $(this);
            currentEditingItem = {
                row: row,
                btn: btn,
                skillType: row.data('skill-type'),
                skillLevelId: row.data('skill-level-id'),
                scoreValue: row.data('score-value'),
                iconClass: btn.data('icon-class')
            };

            $('#legendItemTitle').text(currentEditingItem.skillType === 'operational' ? 'Score ' + currentEditingItem.scoreValue : row.find('.legend-label-input').val());
            $('#legendLevelText').val(row.find('.legend-label-input').val());
            setColorPicker('icon', btn.data('icon-color'));
            setColorPicker('bg', btn.data('bg-color'));
            updatePreview();

            if (currentEditingItem.skillType === 'operational') {
                $('#previewContent').text(currentEditingItem.scoreValue);
            } else {
                $('#previewContent').html(currentEditingItem.iconClass === 'thumbsup' ? '<i class="fa fa-thumbs-up"></i>' : '<i class="fa fa-exclamation-triangle"></i>');
            }

            $('#LegendColorPickerModal').modal('show');
        });

        // Confirm color changes
        $('#btnConfirmLegendColor').on('click', function () {
            if (!currentEditingItem) return;
            var newLabel = $('#legendLevelText').val();
            var newIconColor = $('#iconColorHex').val();
            var newBgColor = $('#bgColorHex').val();

            currentEditingItem.row.find('.legend-label-input').val(newLabel);
            currentEditingItem.btn.css({ 'background-color': newBgColor, 'border-color': newIconColor, 'color': newIconColor });
            currentEditingItem.btn.data('icon-color', newIconColor).data('bg-color', newBgColor);

            saveConfiguration();
            $('#LegendColorPickerModal').modal('hide');
        });

        // Label change handler
        $('.legend-label-input').on('change', function () {
            clearTimeout(debounceTimer);
            debounceTimer = setTimeout(saveConfiguration, 500);
        });

        // Save configuration to server
        function saveConfiguration() {
            var config = { MandatorySkills: [], OperationalSkills: [] };
            $('.legend-item-row').each(function() {
                var row = $(this);
                var btn = row.find('.legend-preview-btn');
                var item = {
                    SkillLevelId: parseInt(row.data('skill-level-id')),
                    Label: row.find('.legend-label-input').val(),
                    IconColor: btn.data('icon-color'),
                    BackgroundColor: btn.data('bg-color')
                };
                if (row.data('skill-type') === 'mandatory') {
                    config.MandatorySkills.push(item);
                } else {
                    config.OperationalSkills.push(item);
                }
            });

            $.ajax({
                url: '/companysettings/legend',
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(config),
                success: function () {
                    toastr.success('@(Model?.CmsLanguage.GetValue(LanguageKeys.CompanySetting.LegendUpdatedSuccessfully, "Legend configuration updated successfully") ?? "Legend configuration updated successfully")');
                },
                error: function () {
                    toastr.error('@(Model?.CmsLanguage.GetValue(LanguageKeys.CompanySetting.LegendUpdateFailed, "Failed to update legend configuration") ?? "Failed to update legend configuration")');
                }
            });
        }

        // Color picker helpers
        function setColorPicker(prefix, hex) {
            if (!hex) return;
            if (hex.length === 4) hex = '#' + hex[1] + hex[1] + hex[2] + hex[2] + hex[3] + hex[3];
            $('#' + prefix + 'ColorPicker').val(hex);
            $('#' + prefix + 'ColorHex').val(hex.toUpperCase());
        }

        function updatePreview() {
            $('#colorPreviewCircle').css({
                'background-color': $('#bgColorHex').val(),
                'border-color': $('#iconColorHex').val(),
                'color': $('#iconColorHex').val()
            });
        }

        $('#iconColorPicker, #bgColorPicker').on('input change', function () {
            var prefix = $(this).attr('id').includes('icon') ? 'icon' : 'bg';
            $('#' + prefix + 'ColorHex').val($(this).val().toUpperCase());
            updatePreview();
        });

        $('#iconColorHex, #bgColorHex').on('input', function () {
            var hex = $(this).val();
            if (hex.length === 7 && hex.charAt(0) === '#') {
                var prefix = $(this).attr('id').includes('icon') ? 'icon' : 'bg';
                $('#' + prefix + 'ColorPicker').val(hex);
                updatePreview();
            }
        });
    });
</script>

<style>
    .circlebtn {
        width: 48px;
        height: 48px;
        border-radius: 50% !important;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border: 1px solid rgb(210,210,210);
        font-size: 22px !important;
        outline: 0 !important;
    }
    .circlebtn i { font-size: 18px; }
    .legend-item-row {
        padding: 8px 12px;
        background-color: white;
        border-radius: 8px;
        margin-bottom: 8px;
        transition: box-shadow 0.2s;
    }
    .legend-item-row:hover { box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); }
    .legend-label-input {
        border: 1px solid #e0e0e0;
        border-radius: 4px;
        padding: 8px 12px;
    }
    .legend-label-input:focus {
        border-color: #93C54B;
        box-shadow: 0 0 0 2px rgba(147, 197, 75, 0.2);
    }
    .legend-preview-btn { transition: transform 0.2s; }
    .legend-preview-btn:hover { transform: scale(1.1); }
    .form-control-color { border: 2px solid #dee2e6; border-radius: 4px; }
    .form-control-color:hover { border-color: #93C54B; }
    .form-control-color:focus { border-color: #93C54B; box-shadow: 0 0 0 2px rgba(147, 197, 75, 0.2); }
</style>
